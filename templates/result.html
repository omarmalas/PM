{% extends 'layout.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}

    <h1>Hash Cracker - Result</h1>

    <form id="hashCrackerForm" method="post" action="/process">
        <div class="form-group">
            <label for="user_hash">Enter Hash:</label>
            <input type="text" name="user_hash" required>
        </div>
        <button type="submit" id="crackButton">Crack</button>
    </form>

    {% if error %}
        <p class="error-message">{{ error }}</p>
    {% endif %}

    {% if result %}
        <p class="result-message">{{ result }}</p>
        <p>Hash Type: {{ hash_type }}</p>
    {% endif %}

    <script>
        const hashCrackerForm = document.getElementById('hashCrackerForm');
        const crackButton = document.getElementById('crackButton');

        crackButton.addEventListener('click', () => {
            // Add loading state or any other actions before form submission
            crackButton.disabled = true;
            crackButton.innerText = 'Cracking...';
            hashCrackerForm.submit();
        });
    </script>
{% endblock %}
